REINDEX INDEX public.index_eg_ws_scheduler_locality
------------------------------------------------------------------------------
SELECT * FROM information_schema.indexes
------------------------------------------------------------------------------
SELECT * FROM information_schema.tables
------------------------------------------------------------------------------
SELECT schemaname||'.'||indexname FROM pg_indexes WHERE schemaname = 'public'
------------------------------------------------------------------------------
SELECT table_schema||'.'||table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
and table_type = 'BASE TABLE';
------------------------------------------------------------------------------
select tableowner,count(tablename) from pg_catalog.pg_tables
where schemaname = 'public' 
GROUP BY tableowner;
------------------------------------------------------------------------------
DO $$
DECLARE
    rec RECORD;
    start_processing BOOLEAN := FALSE;
BEGIN
    FOR rec IN
        SELECT 
            '"'||schemaname||'"'||'.'||'"'||indexname||'"' AS r_table,
            indexname
        FROM 
            pg_indexes 
        WHERE 
            schemaname = 'public'
        ORDER BY 
            indexname
    LOOP
        -- Start processing only after encountering the specified index
        IF start_processing THEN
            EXECUTE 'REINDEX INDEX ' || rec.r_table;
            RAISE NOTICE 'Index %: % reindexed', rec.row_num, rec.r_table;
        ELSIF rec.indexname = 'idx_egbs_demanddetail_tenantid' THEN
            start_processing := TRUE;
        END IF;
    END LOOP;
END $$;
------------------------------------------------------------------------------
